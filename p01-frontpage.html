<h1 class="text-center white">Dev Challenge</h1>

<!-- text input form to sign in [hidden by signUp()]-->
<div id="signInDisplay" class="text-center" style="display: block;">
	<div>
		<input type="text" id="usernameInput" class="frontpageInputField" placeholder="Username">
		<input type="text" id="passwordInput" class="frontpageInputField" placeholder="Password">
	</div>
	<!-- Login button -->
	<div class="text-center" style="position: absolute; bottom: 70px; width: 100%;">
		<button id="loginRegButton" class="devNavButton" alt="Log in" onclick="login();">
			LOG IN
		</button>
	</div>
	<p class="text-center" style="position: absolute; bottom: 20px; width: 100%;">
		<span class="white">
			New to the challenge?
		</span>
		<span class="gold orangeHover pointer" onclick="signUp();">
			Sign up
		</span>
	</p>
</div>

<!-- text input form to register [hidden by signIn()]-->
<div id="signUpDisplay" class="text-center" style="display: none;">
	<div>
		<input type="text" id="usernameInput" class="frontpageInputField" placeholder="Username">
		<input type="text" id="emailInput" class="frontpageInputField" placeholder="Email">
	</div>
	<div>
		<input type="text" id="passwordInput" class="frontpageInputField" placeholder="Password">
		<input type="text" id="confirmPasswordInput" class="frontpageInputField" placeholder="Confirm password">
	</div>
	<!-- Register button -->
	<div class="text-center" style="position: absolute; bottom: 70px; width: 100%;">
		<button id="registerButton" class="devNavButton" alt="Register" onclick="register();">
			REGISTER
		</button>
	</div>
	<p class="text-center" style="position: absolute; bottom: 20px; width: 100%;">
		<span class="white">
			Already registered?
		</span>
		<span class="gold orangeHover pointer" onclick="signIn();">
			Log in
		</span>
	</p>
</div>

<script type="text/javascript">
	var username;
	// function to show sign-up form (activated by clicking text "Sign up")
	function signUp() {
		$("#signInDisplay").attr("style","display: none");
		$("#signUpDisplay").attr("style","display: block");
	}
	// function to show sign-in form (activated by clicking text "Log in")
	function signIn() {
		$("#signInDisplay").attr("style","display: block");
		$("#signUpDisplay").attr("style","display: none");
	}
	// function to handle the Login button
	/*
	function login() {
		username = $("#usernameInput").val()
		password = $("#passwordInput").val()
		if (username.length == 0 || password.length == 0) {
			alert("Please enter your username and password.");
		} else if (!accessMySQL(`SELECT 1 FROM dev-challenge WHERE Username=${username}`)) {
			alert("This username is not recognised.");
		} else if (password != accessMySQL(`SELECT Password FROM dev-challenge WHERE Username=${username}`)) {
			alert("This password is incorrect.");
		} else {
			console.log('LOG IN as', username);
			loadContent("p02-homepage.html");
		}
	}
	*/
	// function to handle the Register button
	/*
	function register() {
		username = $("#usernameInput").val()
		email    = $("#emailInput").val()
		password = $("#passwordInput").val()
		confirmPassword = $("#confirmPasswordInput").val()
		if (username.length < 5 || password.length < 5) {
			alert("Your username as password must both be a minimum of 5 characters.");
		} else if (!email.match(/.+@.+\.[a-z]+(\.[a-z]{2})?/)) {
			alert("This email address is not valid.");
		} else if (password != confirmPassword) {
			alert("Please enter the same password twice.");
		} else if (accessMySQL(`SELECT 1 FROM dev-challenge WHERE Username=${username}`)) {
			alert("This username is already taken.");
		} else {
			accessMySQL(`INSERT INTO dev-challenge (Username, Email, Password) VALUES (${username}, ${email}, ${password})`)
			console.log('LOG IN NEW USER:', username);
			loadContent("p02-homepage.html");
		}
	}
	*/
	
	function login() {
		username = $("#usernameInput").val()
		console.log('LOG IN as', username);
		loadContent("p02-homepage.html");
	}
	function register() {
		username = $("#usernameInput").val()
		console.log('LOG IN as', username);
		loadContent("p02-homepage.html");
	}
	// function to query MySQL database (via PHP)
	/*
	function accessMySQL(query) {
		$.ajax({
			url: "querySQL.php",
			data: query,
			type: "GET",
			success: function (result) {
				console.log('SQL', result);
				return result;
			},
			error: function (error) {
				console.log(error);
			}
		})
	}
	*/
</script>
